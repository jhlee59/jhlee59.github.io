{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome","text":"Hattie Lee Datasheet as part of  Trash Canner for  Team 207  <p>Submission: 12, 8, 2025 </p><p></p> <p> Figure 1: Final Bread Board Design</p> <p> Figure 2: Plain PCB</p>","tags":["tag1","tag2"]},{"location":"#introduction","title":"Introduction","text":"<p>This datasheet documents my individual contribution to the Trash Canner Project. It includes the following: my Block Diagram, Component Selection, Bill of Materials, Schematic, Power Budget, PCB Design, Microcontroller Code, Hardware V2.0, Resources and Appendix.</p>","tags":["tag1","tag2"]},{"location":"#project-summary","title":"Project Summary","text":"<p>The Trash Canner Project is an automatic trash can design featuring weight, distance, and motion sensors. Through the process of benchmarking and drafting, our team identified these features as the most effective and feasible. For a more in depth look into Trash Canner, the team's documentation is available here. The weight sensors are linked to LEDs, providing a clear visual alert to the user when the trash needs to be taken out. The primary objective is to assist the buyer in their daily lives by simplifying a chore. </p>","tags":["tag1","tag2"]},{"location":"#my-contribution","title":"My Contribution","text":"<p>My contribution was to design the motion and distance sensor system that triggers the trash can lid to open without using a pedal or any other manual way. This system utilizes two OPB732 emitter and detector sensors to detect the user and determine the level of trash in the can. Once the user is detected, my system sends a signal to another system\u2019s microcontroller, which then sends information to a motor. This causes the lid to open and then close after a short time. The distance sensor sends a signal to a different microcontroller, informing the buyer when the trash can is full. You can see the full system in the Block Diagram and the Schematic for details. I had to select all the necessary parts for this sensor system, which are detailed in the Component Selection list and BOM. The Power Budget ensures that all components, including the sensors, op-amp, and microcontroller, operate safely on the 5V rail from the L7805ABV voltage regulator. Currently, both sensors are mounted on a single PCB. The Microcontroller Code reads the signals from the sensors, triggers the motor, and updates the fullness notification for the user. While the current design works well, in the future I would consider separating the sensors onto two PCBs to make wiring simpler and signals cleaner. Additional details about my design process, testing, and references are available in the Resources section, and supporting documents can be found in the Appendix.</p>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/","title":"Individual Block Diagram","text":"","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#overview","title":"Overview","text":"<p>This new block diagram now supports two IR Reflective Optical Sensors, still powered by a 5V, 1.5A voltage regulator, which powers all the components. One of the sensors is constantly detecting for motion while the other sensor is measuring how much depth there is in the trashcan. These sensors directly support our product requirements by allowing the can to open only when the user wants to throw garbage away and by detecting when the trash is nearing maximum capacity. These signals are filtered by the Op Amp and then sent to the microcontroller, where they are translated into a digital signal.    That signal is then sent to two other microcontrollers to open the can or impact an LED scale\u2014one to Riley's board and one to Gael\u2019s. This satisfies our requirements for automatic lid opening, fullness detection, and notifying the user when the can is full. The updated block diagram represents our current design and hardware layout, reflects our team composition, and incorporates feedback by clearly separating motion sensing and depth sensing into two different sensor paths with two different outputs.</p> <p>Figure 1: OLD Block Diagram </p> <p></p> <p>Figure 2: Final Block Diagram </p> <p>New Block diagram PDF available here</p> <p>Zipped File of Block Diagram Temple: here</p>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#connection-table","title":"Connection Table","text":"Pin From To Type Description 1 - - - not used 2 Hattie (Me) (RB2) Riley (RA2) 0V / 5V Digital Motion 3 Hattie (Me) (RD3) Gael (RE0) 0V / 5V Digital Distance 4 Gael (RF1) Alessandro (RA2) 0V / 5V Digital Speaker 5 - - - not used 6 - - - not used 7 - - - not used 8 Ground Ground Ground Ground","tags":["tag1","tag2"]},{"location":"02-Component-Selection/Component-Selection/","title":"Component Selection","text":"<p>I chose the OPB732 Reflector Emitter and Detector, the MCP6241-E/P operational amplifier, and the L7805ABV voltage regulator because they work together to create a reliable and efficient automatic trash can that enhances convenience and durability. The OPB732 provides accurate distance detection, allowing the lid to open smoothly and quickly when a user approaches. Additionally, alert the user when the trash is full. The MCP6241-E/P op amp improves signal accuracy between the sensor and the microcontroller, ensuring the lid operates consistently without unexpected movement. The L7805ABV voltage regulator supplies a steady 5V output and includes built-in protection against overheating and short circuits, helping the electronics last longer and stay safe. Together, these components make the trash can quiet, dependable, and easy to use while keeping the overall design affordable and practical for everyday households.</p>"},{"location":"02-Component-Selection/Component-Selection/#component-selection-summary-table","title":"Component Selection Summary Table","text":"Component Type Chosen Part Cost Link Rationale Motion / Distance Sensor OPB732 Reflective Optical Sensor $4.61 Product Page The OPB732 is the simplest emitter/detector pair, does not require a daughter board, and is a part I have experience using. Op-Amp MCP6004-I/P $0.59 Product Page I need two op-amps, and the MCP6004 contains four. I also have prior experience with it, making it a reliable choice. Voltage Regulator L7805ABV $0.59 Product Page Provides reliable 5V output with thermal and short-circuit protection, making it the simplest and most robust option."},{"location":"02-Component-Selection/Component-Selection/#motion-sensor","title":"Motion Sensor","text":"<ol> <li>OPB732 Emitter and Detector Reflective Optical Sensor 3\"</li> </ol> <ul> <li>$4.61/each</li> <li>Link to product</li> </ul> Pros Cons Doesn't have a daughter board Single Beam range Compatible with microcontrollers Inexpensive <ol> <li>Ultrasonic Distance Sensor - 3V or 5V - HC-SR04 compatible - RCWL-1601 </li> </ol> <ul> <li>$3.95/each</li> <li>Link to product</li> </ul> Pros Cons 10cm-250cm range Low current Compatible with microcontrollers Has a daughter board Smaller dimensions than Option 1 <ol> <li>US-100 Ultrasonic Distance Sensor - 3V or 5V Logic</li> </ol> <ul> <li>$6.95/each</li> <li>Link to product</li> </ul> Pros Cons 10cm-250cm range has a daughter board Removable back Only Compatible with Arduino or CircuitPython Low current <p>Choice: Option 1: OPB732</p> <p>Rationale: The OPB732 is the best choice because it is the simplest Emitter and detector with which I have experience, and it doesn't have a daughter board connected. </p>"},{"location":"02-Component-Selection/Component-Selection/#op-amp","title":"Op Amp","text":"<ol> <li>MCP6004-I/P</li> </ol> <ul> <li>$0.59/each</li> <li>Link to product</li> </ul> Pros Cons Inexpensive 3 Op Amp will go unused Through Hole Mount Larger footprint <ol> <li>MCP6241-E/P</li> </ol> <ul> <li>$0.43/each</li> <li>Link to product</li> </ul> Pros Cons Small Limited to one Op Amp Through hole mount Low current Voltage Flexible <ol> <li>IC INVERTER 1CH 1-INP SOT23-5</li> </ol> <ul> <li>$0.12/each</li> <li>Link to product</li> </ul> Pros Cons Small Doesn't read continuous signals Cleans up signals Surface mount <p>Choice: Option 1: MCP6004-I/P</p> <p>Rationale: The MCP6241 features only one op amp in the package, eliminating unnecessary components and minimizing PCB space. However, I need two op-amps, so the MCP6004 is the better choice. Additionally, I have prior experience and knowledge with the MCP6004. </p>"},{"location":"02-Component-Selection/Component-Selection/#voltage-regulator","title":"Voltage Regulator","text":"<p>All are fixed at 5 V and ~1.5A</p> <ol> <li>L7805ABV</li> </ol> <p></p> <ul> <li>$0.59/each</li> <li>Link to product</li> </ul> Pros Cons Internal thermal shutdown and short circuit protection Inefficient for battery powered designs Common and Inexpensive Dropout voltage (~2V) limitation Through hole mount <ol> <li>L7805CV</li> </ol> <p></p> <ul> <li>$0.50/each</li> <li>Link to product</li> </ul> Pros Cons Smaller than Option 1 with same specs Poor efficiency at high voltage Reliable Dropout voltage (~2V) limitation Through hole mount Through hole mount <ol> <li>UA7805CKCS</li> </ol> <p></p> <ul> <li>$1.34/each</li> <li>Link to product</li> </ul> Pros Cons Through hole mount Linear regulator Built\u2011in protection features Dropout voltage around ~2\u202fV <p>Choice: Option 1: L7805ABV</p> <p>Rationale: It's the simplest and most reliable. Its thermal performance and protections make it the most balanced and robust option.</p>"},{"location":"02-Component-Selection/Component-Selection/#connection-table","title":"Connection Table","text":"Pin From To Type Description 1 - - - not used 2 Hattie (Me) (RB2) Riley (RA2) 0V / 5V Digital Motion 3 Hattie (Me) (RD3) Gael (RE0) 0V / 5V Digital Distance 4 Gael (RF1) Alessandro (RA2) 0V / 5V Digital Speaker 5 - - - not used 6 - - - not used 7 - - - not used 8 Ground Ground Ground Ground"},{"location":"02-Component-Selection/Component-Selection/#mcc-configuration-pic","title":"MCC Configuration (PIC)","text":"Module Function Direction Pin Description UART1 RX1 input RF1 UART input TX1 output RF0 UART output ADCC ANx input RA3 Analog input ANx input RA4 Analog input RESET MCLR input RE3 Reset Pins GPIO input RA1 Debug Button GPIO output RA2 Debug LED GPIO output RB2 Teamate 1 Output GPIO output RD3 Teamate 2 Output"},{"location":"03-BOM/BOM/","title":"Bill of Materials","text":"","tags":["tag1","tag2"]},{"location":"03-BOM/BOM/#overview","title":"Overview","text":"<p>This Bill of Materials (BOM) supports a custom microcontroller-based emitter and detector sensing system designed around the PIC18F57Q43. The circuit measures distance using two OPB732 sensors, amplifies and conditions signals with a Microchip MCP6004 op amp, and regulates power through an L7805ABV 5 V linear regulator. A L7805ABV shift register manages serial-to-parallel data control, while standard resistors and capacitors provide biasing, filtering, and power stability. All components are readily available through Digi-Key and are suitable for prototyping or small-scale production.</p>","tags":["tag1","tag2"]},{"location":"03-BOM/BOM/#bill-of-materials","title":"Bill of Materials","text":"Part Name/Description Qty Unit Cost Total Cost Manufacturer Manufacturer # Vendor Link Datasheet Link # Ordered Date Ordered # Receiver Schematic Reference Designators Microchip PIC18F57Q43 Curiosity Nano Dev Kit 1 $9.99 $9.99 Microchip DM164150 Microchip Direct Datasheet 1 NA 1 U1 Reflective Emitter and Detector Sensor (OPB732) 2 $4.61 $13.83 TT Electronics/Optek Technology 365-1691-ND DigiKey Datasheet 3 8/12/2025 3 U3, U4 Op Amp, Four, Rail-to-Rail, 5 V 1 $0.59 $0.59 Microchip Technology MCP6004-I/P DigiKey Datasheet 2 8/12/2025 2 MCP6004_OPAMP1 Linear Voltage Regulator, 5 V, 1.5 A, TO-220 1 $0.59 $0.59 STMicroelectronics L7805ABV DigiKey Datasheet 2 8/12/2025 2 U2 100 k\u03a9 Resistor, \u00bc W 4 $0.10 $0.40 Yageo MFR-25FBF52-100K PRLTA 109 n/a NA NA NA R8, R10, R17, R18 10 k\u03a9 Resistor, \u00bc W 3 $0.10 $0.30 Yageo MFR-25FBF52-10K PRLTA 109 n/a NA NA NA R5, R7, R16 2 k\u03a9 Resistor, \u00bc W 4 $0.10 $0.40 Yageo MFR-25FBF52-2K PRLTA 109 n/a NA NA NA R1, R2, R13, R14 1 k\u03a9 Resistor, \u00bc W 3 $0.10 $0.30 Yageo MFR-25FBF52-1K PRLTA 109 n/a NA NA NA R3, R4, R15 220 k\u03a9 Resistor, \u00bc W 4 $0.10 $0.40 Yageo MFR-25FBF52-220K PRLTA 109 n/a NA NA NA R11, R12, R19, R20 220 \u03a9 Resistor, \u00bc W 2 $0.10 $0.20 Yageo MFR-25FBF52-220K PRLTA 109 n/a NA NA NA R6, R9 0.1 \u00b5F Ceramic Capacitor, \u00b110%, X7R, 50 V, 0805 package 3 $0.28 $0.84 KEMET C0805F104K5RACTU PRLTA 109 n/a NA NA NA C1, C2, C3, C4, C5","tags":["tag1","tag2"]},{"location":"04-Schematic/schematic/","title":"Schematic","text":""},{"location":"04-Schematic/schematic/#overview","title":"Overview","text":"<p>This schematic is designed to support two Reflective Optical Sensor. Detecting and reading analog signals that the Op Amp then amplifies. The microcontroller translates this into a digital signal for two other microcontrollers to read.</p> <p> Figure 1: My Schematic </p>"},{"location":"04-Schematic/schematic/#resouces","title":"Resouces","text":"<p>The schematic as a PDF download is available here, and the Zip folder of the project here.</p>"},{"location":"05-Power-Budget/Power-Budget/","title":"Power Budget","text":""},{"location":"05-Power-Budget/Power-Budget/#overview","title":"Overview","text":"<p>A Power Budget is created to ensure that every component in an electrical system receives the correct voltage and sufficient current to operate safely and reliably. It calculates the total power requirements of all devices, verifies that voltage regulators and power supplies can handle the total load. By organizing components by their voltage rails and current draws, the Power Budget also assists in selecting appropriate regulators and external power sources while documenting design decisions for troubleshooting and validation. Overall, it ensures the system is both electrically stable and efficiently powered. </p> <p></p>"},{"location":"05-Power-Budget/Power-Budget/#conclusions","title":"Conclusions","text":"<p>From the prepared Power Budget, it can be concluded that the system\u2019s power requirements are well balanced and adequately supported by the selected regulators and external power source.</p>"},{"location":"05-Power-Budget/Power-Budget/#resouces","title":"Resouces","text":"<p>The power budget as a PDF download is available here, and a Microsoft Excel Sheet here.</p>"},{"location":"06-PCB%20Design/PCB%20Design/","title":"PCB Design","text":""},{"location":"06-PCB%20Design/PCB%20Design/#overview","title":"Overview","text":"<p>This PCB design mainly supports two Reflective Optical Sensors. Detecting and reading an analog signals that the Op Amp then amplifies. The microcontroller translates this into a digital signal for two other microcontrollers to read.</p> <p></p> <p>Figure 1: Both PCB Layers</p> <p></p> <p>Figure 2: Top Copper Layer</p> <p></p> <p>Figure 3: Bottom Copper Layer</p> <p></p> <p>Figure 4: Final PCB Front</p> <p></p> <p>Figure 5: Final PCB Back</p> <p></p> <p>Figure 6: ECAD Front</p> <p>Back:  </p> <p>Figure 7: ECAD Back</p>"},{"location":"06-PCB%20Design/PCB%20Design/#resouces","title":"Resouces","text":"<p>The schematic as a PCB Editor PDF download is available here. And the Zip folder of the project here.</p>"},{"location":"07-Microcontroller%20Code/Microcontroller%20Code/","title":"Microcontroller Code","text":""},{"location":"07-Microcontroller%20Code/Microcontroller%20Code/#overview","title":"Overview","text":"<p>This is the code for the PCB to support two Reflective Optical Sensors. Detecting and reading an analog signal that the Op Amp then amplifies. The microcontroller translates this into a digital signal for two other microcontrollers to read. Two separate signals from two separate sensors to two separate other microcontrollers. Turning a Debug LED on until a signal is sensed and sent.</p> <p>To read both sensors:        ADC_ConversionStart();       while (!ADC_IsConversionDone()) ; were used. </p> <pre><code>#include \"mcc_generated_files/system/system.h\"\n#include &lt;stdio.h&gt;\n\n/*\n    Main application\n*/\n\nint main(void)\n{\n    SYSTEM_Initialize();\n    ADC_Initialize();\n    UART1_Initialize();\n\n    uint16_t resultM = 0;\n    uint16_t resultD = 0;\n\n    while(1)\n    {\n\n\n\n        ADC_ChannelSelect(0x04);     // RA4 = AN4\n        __delay_us(10);\n        ADC_ConversionStart();\n        while (!ADC_IsConversionDone()) ;\n        resultD = ADC_ConversionResultGet();\n\n\n        printf(\"Motion=%u   Distance=%u\\r\\n\", resultM, resultD);\n\n        if(resultD &gt; 720)\n        {\n            DEBUG_LED_SetLow();\n            BLED_SetHigh();\n            __delay_ms(10);\n        }\n        else\n        {\n            DEBUG_LED_SetHigh();\n            BLED_SetLow();\n            __delay_ms(10);\n        }\n\n        ADC_ChannelSelect(0x03);     // RA3 = AN3\n        __delay_ms(10);\n        ADC_ConversionStart();\n        while (!ADC_IsConversionDone()) ;\n        resultM = ADC_ConversionResultGet();\n\n        if(resultM &gt; 620)\n\n        {\n            DEBUG_LED_SetLow();\n            RLED_SetHigh();\n            BLED_SetLow();\n            __delay_ms(10);\n        }\n        else\n        {\n            DEBUG_LED_SetHigh();\n            RLED_SetLow();\n            BLED_SetLow();\n            __delay_ms(10);\n        }\n\n        __delay_ms(30);\n    }\n\n    return 0;\n}\n</code></pre> <p>2sensors.zip</p>"},{"location":"08-Hardware%20V2.0/Hardware%20V2.0/","title":"Hardware V2.0","text":"<p>The current hardware design functions properly, but several improvements would enhance the system's reliability and ease of maintenance. The most significant change would be to separate the design into two PCBs. Although the schematic places both sensors close together, the motion sensor and the depth sensor must be installed in physically different areas of the trash can. Keeping them on a single PCB requires long wire runs, which can introduce noise, make installation more challenging, and increase the likelihood of mechanical strain. Creating a \u201clid PCB\u201d for the motion sensor and a \u201cbin PCB\u201d for the depth sensor would reduce wiring complexity and improve signal quality.</p> <p>With each sensor on its own channel and its own board, the microcontroller no longer has to constantly handle overlapping signals or compensate for noise caused by long wiring runs. This reduces the chances of misreadings, unstable analog values, or incorrect triggering when switching between channels. Cleaner, more isolated inputs allow the code to use straightforward analog-to-digital reads and thresholds, eliminating the need for extra filtering, error-checking, or calibration routines. As a result, the software becomes easier to write, easier to debug, and far less prone to unexpected behavior during operation.</p>","tags":["tag1","tag2"]},{"location":"08.5-Reflections/Reflections/","title":"Reflections","text":""},{"location":"08.5-Reflections/Reflections/#lessons-learned","title":"Lessons Learned","text":"<p>Throughout this project, our team identified five important lessons that helped us successfully complete the hardware and sensor system. First, we learned that verifying every pin connection and signal path early is crucial because even a single incorrect pin can cause significant delays. Second, we learned that testing each component individually before integrating the system makes troubleshooting faster and prevents confusion. Third, we discovered the importance of clear and organized schematics, especially when working with multiple sensors and microcontrollers. Fourth, we learned that having an accurate power budget is essential for preventing component issues and ensuring stable operation. Finally, we learned that good communication and consistently updating documents, such as the block diagram, BOM, and status reports, keep the whole team aligned and reduce mistakes during hardware development.</p>"},{"location":"08.5-Reflections/Reflections/#recommendations-for-future-students","title":"Recommendations for Future Students","text":"<ol> <li>Start your design work early and update your block diagram and schematic often, because your design will change throughout the project.</li> <li>Double-check every pin connection using datasheets, your schematic, and a multimeter, since incorrect pins are one of the most common and time-consuming mistakes.</li> <li>Test each sensor and component individually before combining them into the full system, which makes finding problems much easier.</li> <li>Learn how to read and understand datasheets well, because most important design decisions depend on voltage limits, pin functions, and current requirements.</li> <li>Stay organized and document everything, including wiring changes, code updates, and component selections, so your final report is easier and your hardware is more reliable.</li> </ol>"},{"location":"09-Resources/Resources/","title":"Resources","text":"<p>MPLabX zip file here</p> <p>KiCad zip file here</p>"},{"location":"Appendix/Appendix/","title":"Appendix","text":""}]}